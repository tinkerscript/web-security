# Manipulating WebSocket messages to exploit vulnerabilities
APPRENTICE

This online shop has a live chat feature implemented using WebSockets.

Chat messages that you submit are viewed by a support agent in real time.

To solve the lab, use a WebSocket message to trigger an alert() popup in the support agent's browser.

## Решение
Для пробы отправил несколько XSS-пейлоадов в чат. Ничего не сработало.

На вкладке Proxy -> WebSockets History можно обнаружить, что HTML entities кодируются на клиенте перед отправкой на сервер. Можно переправить одно из сообщений в Repeater и подменить контент нефильтрованной нагрузкой:
```
{"message":"<img src=1 onerror=alert(1)>"}
```
Задание выполнено.
